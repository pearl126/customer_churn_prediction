<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Customer Churn Prediction</h1>
        <form action="/predict" method="post" class="mt-3">
            <div class="form-group">
                <label for="customer_name">Customer Name:</label>
                <input type="text" class="form-control" name="customer_name" required>
            </div>
            <div class="form-group">
                <label for="transaction_frequency">Transaction Frequency:</label>
                <select class="form-control" name="transaction_frequency" required>
                    <option value="Weekly">Weekly</option>
                    <option value="Monthly">Monthly</option>
                    <option value="Quarterly">Quarterly</option>
                </select>
            </div>
            <div class="form-group">
                <label for="average_order_value">Average Order Value:</label>
                <input type="number" step="0.01" class="form-control" name="average_order_value" required>
            </div>
            <div class="form-group">
                <label for="time_since_last_purchase">Time Since Last Purchase (days):</label>
                <input type="number" class="form-control" name="time_since_last_purchase" required>
            </div>
            <div class="form-group">
                <label for="total_purchase_amount">Total Purchase Amount:</label>
                <input type="number" step="0.01" class="form-control" name="total_purchase_amount" required>
            </div>
            <div class="form-group">
                <label for="purchase_recency">Purchase Recency (days):</label>
                <input type="number" class="form-control" name="purchase_recency" required>
            </div>
            <div class="form-group">
                <label for="number_of_support_tickets">Number of Support Tickets:</label>
                <input type="number" class="form-control" name="number_of_support_tickets" required>
            </div>
            <div class="form-group">
                <label for="resolution_time">Resolution Time (hours):</label>
                <input type="number" step="0.01" class="form-control" name="resolution_time" required>
            </div>
            <div class="form-group">
                <label for="support_satisfaction">Support Satisfaction (1-5):</label>
                <input type="number" class="form-control" name="support_satisfaction" min="1" max="5" required>
            </div>
            <div class="form-group">
                <label for="seasonality_factors">Seasonality Factors:</label>
                <input type="text" class="form-control" name="seasonality" required>
            </div>
            <div class="form-group">
                <label for="customer_loyalty_score">Customer Loyalty Score:</label>
                <input type="number" class="form-control" name="customer_loyalty_score" required>
            </div>
            <div class="form-group">
                <label for="churn_propensity_score">Churn Propensity Score:</label>
                <input type="number" class="form-control" name="churn_propensity_score" required>
            </div>
            <button type="submit" class="btn btn-primary">Predict</button>
        </form>
    </div>
</body>
</html>
 -->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Churn Prediction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Customer Churn Prediction</h1>

        <!-- Radio buttons for choosing single or batch prediction -->
        <form id="prediction-form" action="/predict" method="post" enctype="multipart/form-data" class="mt-3">
            <div class="form-group">
                <label for="prediction_type">Prediction Type:</label>
                <div>
                    <label><input type="radio" name="prediction_type" value="single" checked> Single Prediction</label>
                    <label><input type="radio" name="prediction_type" value="batch"> Batch Prediction (CSV)</label>
                </div>
            </div>

            <!-- Single Prediction Form Fields -->
            <div id="single-prediction-fields">
                <!-- Include your existing single prediction input fields here -->
                <div class="form-group">
                    <label for="customer_name">Customer Name:</label>
                    <input type="text" class="form-control" name="customer_name" required>
                </div>
                <div class="form-group">
                    <label for="transaction_frequency">Transaction Frequency:</label>
                    <select class="form-control" name="transaction_frequency" required>
                        <option value="Weekly">Weekly</option>
                        <option value="Monthly">Monthly</option>
                        <option value="Quarterly">Quarterly</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="average_order_value">Average Order Value:</label>
                    <input type="number" step="0.01" class="form-control" name="average_order_value" required>
                </div>
                <div class="form-group">
                    <label for="time_since_last_purchase">Time Since Last Purchase (days):</label>
                    <input type="number" class="form-control" name="time_since_last_purchase" required>
                </div>
                <div class="form-group">
                    <label for="total_purchase_amount">Total Purchase Amount:</label>
                    <input type="number" step="0.01" class="form-control" name="total_purchase_amount" required>
                </div>
                <div class="form-group">
                    <label for="purchase_recency">Purchase Recency (days):</label>
                    <input type="number" class="form-control" name="purchase_recency" required>
                </div>
                <div class="form-group">
                    <label for="number_of_support_tickets">Number of Support Tickets:</label>
                    <input type="number" class="form-control" name="number_of_support_tickets" required>
                </div>
                <div class="form-group">
                    <label for="resolution_time">Resolution Time (hours):</label>
                    <input type="number" step="0.01" class="form-control" name="resolution_time" required>
                </div>
                <div class="form-group">
                    <label for="support_satisfaction">Support Satisfaction (1-5):</label>
                    <input type="number" class="form-control" name="support_satisfaction" min="1" max="5" required>
                </div>
                <div class="form-group">
                    <label for="seasonality_factors">Seasonality Factors:</label>
                    <input type="text" class="form-control" name="seasonality" required>
                </div>
                <div class="form-group">
                    <label for="customer_loyalty_score">Customer Loyalty Score:</label>
                    <input type="number" class="form-control" name="customer_loyalty_score" required>
                </div>
                <div class="form-group">
                    <label for="churn_propensity_score">Churn Propensity Score:</label>
                    <input type="number" class="form-control" name="churn_propensity_score" required>
                </div>
                <button type="submit" class="btn btn-primary">Predict</button>
            </div>
        

            <!-- Batch Prediction Form Field (CSV Upload) -->
            <div id="batch-prediction-field" style="display: none;">
                <div class="form-group">
                    <label for="csv_file">Upload CSV File:</label>
                    <input type="file" class="form-control" name="csv_file" accept=".csv">
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Predict</button>
        </form>
    </div>

    <script>
        document.querySelectorAll('input[name="prediction_type"]').forEach((elem) => {
            elem.addEventListener("change", function(event) {
                const singleFields = document.getElementById("single-prediction-fields");
                const batchField = document.getElementById("batch-prediction-field");

                if (event.target.value === "single") {
                    singleFields.querySelectorAll('input, select').forEach((input) => {
                        input.required = true;
                    });
                    batchField.querySelectorAll('input').forEach((input) => {
                        input.required = false;
                    });
                    singleFields.style.display = "block";
                    batchField.style.display = "none";
                } else {
                    singleFields.querySelectorAll('input, select').forEach((input) => {
                        input.required = false;
                    });
                    batchField.querySelectorAll('input').forEach((input) => {
                        input.required = true;
                    });
                    singleFields.style.display = "none";
                    batchField.style.display = "block";
                }
            });
        });
    </script>
</body>
</html>
